{"version":3,"file":"index.min.js","sources":["../src/index.js"],"sourcesContent":["// @flow\nimport type { CSSCache, CSSContextType, InsertableStyles } from '@emotion/types'\n\nexport const isBrowser = typeof document !== 'undefined'\nexport const shouldSerializeToReactTree =\n  !isBrowser || process.env.NODE_ENV === 'test'\n\nexport function getRegisteredStyles(\n  registered: CSSCache,\n  registeredStyles: string[],\n  classNames: string\n) {\n  let rawClassName = ''\n\n  classNames.split(' ').forEach(className => {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(registered[className])\n    } else {\n      rawClassName += `${className} `\n    }\n  })\n  return rawClassName\n}\n\nexport const insertStyles = (\n  context: CSSContextType,\n  insertable: InsertableStyles\n) => {\n  if (\n    insertable.type === 1 &&\n    context.registered[`css-${insertable.name}`] === undefined\n  ) {\n    context.registered[`css-${insertable.name}`] = insertable.styles\n  }\n  if (context.inserted[insertable.name] === undefined) {\n    let rules = context.stylis(\n      insertable.type === 1 ? `.css-${insertable.name}` : '',\n      insertable.styles\n    )\n\n    if (shouldSerializeToReactTree) {\n      context.inserted[insertable.name] = rules.join('')\n    } else {\n      rules.forEach(rule => {\n        context.sheet.insert(rule)\n      })\n      context.inserted[insertable.name] = true\n    }\n    if (context.compat === undefined) {\n      return context.inserted[insertable.name]\n    }\n  }\n}\n"],"names":["registered","registeredStyles","classNames","rawClassName","split","forEach","undefined","className","push","context","insertable","type","name","styles","inserted","stylis","sheet","insert","rule","compat"],"mappings":"oQAOA,SACEA,EACAC,EACAC,OAEIC,EAAe,YAERC,MAAM,KAAKC,QAAQ,iBACEC,IAA1BN,EAAWO,KACIC,KAAKR,EAAWO,OAEdA,QAGhBJ,kBAGmB,SAC1BM,EACAC,MAGsB,IAApBA,EAAWC,WACsCL,IAAjDG,EAAQT,kBAAkBU,EAAWE,UAE7BZ,kBAAkBU,EAAWE,MAAUF,EAAWG,aAElBP,IAAtCG,EAAQK,SAASJ,EAAWE,QAClBH,EAAQM,OACE,IAApBL,EAAWC,aAAqBD,EAAWE,KAAS,GACpDF,EAAWG,QAMLR,QAAQ,cACJW,MAAMC,OAAOC,OAEfJ,SAASJ,EAAWE,OAAQ,OAEfN,IAAnBG,EAAQU,eACHV,EAAQK,SAASJ,EAAWE"}