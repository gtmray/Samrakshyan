{"version":3,"file":"index.es.js","sources":["../src/index.js"],"sourcesContent":["// @flow\nimport type { CSSCache, CSSContextType, InsertableStyles } from '@emotion/types'\n\nexport const isBrowser = typeof document !== 'undefined'\nexport const shouldSerializeToReactTree =\n  !isBrowser || process.env.NODE_ENV === 'test'\n\nexport function getRegisteredStyles(\n  registered: CSSCache,\n  registeredStyles: string[],\n  classNames: string\n) {\n  let rawClassName = ''\n\n  classNames.split(' ').forEach(className => {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(registered[className])\n    } else {\n      rawClassName += `${className} `\n    }\n  })\n  return rawClassName\n}\n\nexport const insertStyles = (\n  context: CSSContextType,\n  insertable: InsertableStyles\n) => {\n  if (\n    insertable.type === 1 &&\n    context.registered[`css-${insertable.name}`] === undefined\n  ) {\n    context.registered[`css-${insertable.name}`] = insertable.styles\n  }\n  if (context.inserted[insertable.name] === undefined) {\n    let rules = context.stylis(\n      insertable.type === 1 ? `.css-${insertable.name}` : '',\n      insertable.styles\n    )\n\n    if (shouldSerializeToReactTree) {\n      context.inserted[insertable.name] = rules.join('')\n    } else {\n      rules.forEach(rule => {\n        context.sheet.insert(rule)\n      })\n      context.inserted[insertable.name] = true\n    }\n    if (context.compat === undefined) {\n      return context.inserted[insertable.name]\n    }\n  }\n}\n"],"names":["isBrowser","document","shouldSerializeToReactTree","process","env","NODE_ENV","getRegisteredStyles","registered","registeredStyles","classNames","rawClassName","split","forEach","className","undefined","push","insertStyles","context","insertable","type","name","styles","inserted","rules","stylis","join","sheet","insert","rule","compat"],"mappings":"IAGaA,YAAY,OAAOC,QAAP,KAAoB,WAAtC;AACP,IAAaC,6BACX,CAACF,SAAD,IAAcG,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,MADlC;AAGP,AAAO,SAASC,mBAAT,CACLC,UADK,EAELC,gBAFK,EAGLC,UAHK,EAIL;MACIC,eAAe,EAAnB;aAEWC,KAAX,CAAiB,GAAjB,EAAsBC,OAAtB,CAA8B,qBAAa;QACrCL,WAAWM,SAAX,MAA0BC,SAA9B,EAAyC;uBACtBC,IAAjB,CAAsBR,WAAWM,SAAX,CAAtB;KADF,MAEO;sBACcA,SAAnB;;GAJJ;SAOOH,YAAP;;AAGF,IAAaM,eAAe,SAAfA,YAAe,CAC1BC,OAD0B,EAE1BC,UAF0B,EAGvB;MAEDA,WAAWC,IAAX,KAAoB,CAApB,IACAF,QAAQV,UAAR,UAA0BW,WAAWE,IAArC,MAAiDN,SAFnD,EAGE;YACQP,UAAR,UAA0BW,WAAWE,IAArC,IAA+CF,WAAWG,MAA1D;;;MAEEJ,QAAQK,QAAR,CAAiBJ,WAAWE,IAA5B,MAAsCN,SAA1C,EAAqD;QAC/CS,QAAQN,QAAQO,MAAR,CACVN,WAAWC,IAAX,KAAoB,CAApB,aAAgCD,WAAWE,IAA3C,GAAoD,EAD1C,EAEVF,WAAWG,MAFD,CAAZ;;QAKInB,0BAAJ,EAAgC;cACtBoB,QAAR,CAAiBJ,WAAWE,IAA5B,IAAoCG,MAAME,IAAN,CAAW,EAAX,CAApC;KADF,MAEO;YACCb,OAAN,CAAc,gBAAQ;gBACZc,KAAR,CAAcC,MAAd,CAAqBC,IAArB;OADF;cAGQN,QAAR,CAAiBJ,WAAWE,IAA5B,IAAoC,IAApC;;;QAEEH,QAAQY,MAAR,KAAmBf,SAAvB,EAAkC;aACzBG,QAAQK,QAAR,CAAiBJ,WAAWE,IAA5B,CAAP;;;CAzBC;;;;"}